@using System.Collections.Generic
@using NetB.Models.DTO
@model Dictionary<string,List<TarefasResponsavelDTO>>
@{
    Layout = null;
    ViewBag.Title = "Tarefas Por Usuarios";
}

@if (Model.Count == 0)
{
    <h3>Pesquisa não retornou resultados</h3>
}
else
{
    <div>
        <table class="table table-striped table-bordered">
            <tr>
                <th>Usuarios</th>
                <th>Tarefas</th>
            </tr>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Key</td>
                        <td>
                            <table id="tabela" class="table table-striped table-bordered">
                                <tr>
                                    <th>Tarefa</th>
                                    <th>Projeto</th>
                                    <th>Inicio</th>
                                    <th>Previsão</th>
                                    <th>Conclusão</th>
                                    <th>Observações</th>
                                </tr>
                                <tbody>
                                    @foreach (var tarefas in item.Value)
                                    {
                                        <tr>
                                            <td> @tarefas.Tarefa </td>
                                            <td> @tarefas.Projeto </td>
                                            <td>@(tarefas.Inicio != null ? tarefas.Inicio.Value.ToString("dd/MM/yyyy") : "")</td>
                                            <td><span style="color:@tarefas.statusCor">@(tarefas.Previsao != null ? tarefas.Previsao.Value.ToString("dd/MM/yyyy"): "")</span></td>
                                            <td>@(@tarefas.Conclusao != null ? @tarefas.Conclusao.Value.ToString("dd/MM/yyyy") : "")</td>
                                            <td>@tarefas.Observacoes </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}

